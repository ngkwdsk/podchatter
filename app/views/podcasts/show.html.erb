<div class="container py-4 works">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <h1 class="text-center"><%= @podcast.name %></h1>
      <div class="text-center m-4">
        <%= image_tag @podcast.image, class: "img-fluid" %>
      </div>
      
      <div>
        <p><%= @podcast.description %></p>
        <% if user_signed_in? %>
          <%= render partial: "likes/like", locals: { podcast: @podcast.original_podcast } %>
        <% end %>
      </div>
    </div>
  </div>
</div>

<div id="comments" class= "text-center">
  <h4>コメント一覧</h4>
    <% @podcast.original_podcast.comments.each do |comment| %>
  <% if comment.user.present? %>
    <div class="comment">
      <% if comment.user.icon.attached? %>
        <%= image_tag comment.user.icon.variant(resize: '100x100') %>
      <% end %>
      <%= comment.user.nickname %>：<%= comment.text%>
    </div>
  <% end %>
<% end %>

<div class="comment-form text-center">
  <% if user_signed_in? %>
    <%= form_with model: [@podcast.original_podcast, @comment], id: "comment-form" do |f| %>
      <%= f.text_area :text , class: "comment-text"%>
      <%= f.submit "コメントをする", class: "comment-submit" %>
    <% end %>
  <% end %>
</div>